<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mishmish Server ğŸŒ¸</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { background-color: #121212; color: white; font-family: Arial, sans-serif; text-align: center; padding: 20px; }
        .note { color: #ff9f43; font-size: 24px; margin-bottom: 20px; font-weight: bold; }
        img { max-width: 90%; border-radius: 15px; box-shadow: 0 4px 15px rgba(255,159,67,0.3); margin-top: 20px; }
        audio { margin-top: 20px; width: 90%; }
        
        /* ØªØµÙ…ÙŠÙ… Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø®ÙÙŠØ© */
        #adminPanel { display: none; background: #222; padding: 20px; border-radius: 15px; border: 1px solid #ff9f43; margin-top: 30px; }
        input { width: 80%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #444; background: #333; color: white; }
        button { padding: 10px 20px; background: #ff9f43; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .secret-trigger { cursor: pointer; user-select: none; }
    </style>
</head>
<body>

    <h1 class="secret-trigger" onclick="toggleAdmin()">Mishmish Server ğŸŒ¸</h1>
    
    <div id="noteDisplay" class="note">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>

    <audio id="bgMusic" controls>
        <source src="music.mp3" type="audio/mpeg">
        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØµÙˆØª.
    </audio>

    <br>

    <div id="imageContainer">
        <img id="mainImage" src="" alt="Ù…ÙØ§Ø¬Ø£Ø© Ù„Ù…Ø´Ù…Ø´">
    </div>

    <div id="adminPanel">
        <h3 style="color:#ff9f43;">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ© ğŸ”</h3>
        <input type="text" id="noteInput" placeholder="Ø§ÙƒØªØ¨ Ø¬Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©...">
        <button onclick="updateNote()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ù…Ù„Ø©</button>
        <hr style="border-color:#444">
        <input type="text" id="imgInput" placeholder="Ø¶Ø¹ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯...">
        <button onclick="updateImage()">ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©</button>
        <p style="font-size:10px; color:#666;">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ù„Ø¥Ø®ÙØ§Ø¡</p>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
        const firebaseConfig = {
            databaseURL: "https://ourphotoshare-a874a-default-rtdb.firebaseio.com"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // 1. Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ù…Ø´Ù…Ø´
        db.ref('note').on('value', (snapshot) => {
            document.getElementById('noteDisplay').innerText = snapshot.val() || "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬Ù…Ù„Ø©";
        });

        db.ref('main_image').on('value', (snapshot) => {
            const imgUrl = snapshot.val();
            if(imgUrl) document.getElementById('mainImage').src = imgUrl;
        });

        // 2. ÙˆØ¸Ø§Ø¦Ù Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Admin)
        function toggleAdmin() {
            const panel = document.getElementById('adminPanel');
            panel.style.display = (panel.style.display === 'none' || panel.style.display === '') ? 'block' : 'none';
        }

        function updateNote() {
            const text = document.getElementById('noteInput').value;
            if(text) {
                db.ref('note').set(text).then(() => alert("ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„ÙƒÙ„Ø§Ù…!"));
            }
        }

        function updateImage() {
            const url = document.getElementById('imgInput').value;
            if(url) {
                db.ref('main_image').set(url).then(() => alert("ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©!"));
            }
        }
    </script>
</body>
</html>
